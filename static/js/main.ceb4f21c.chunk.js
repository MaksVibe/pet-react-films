(this["webpackJsonppet-react-films"]=this["webpackJsonppet-react-films"]||[]).push([[0],{12:function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return b}));var r=n(3),a=n.n(r),c=n(9),u=n(8),o=n.n(u),i=n(2);o.a.defaults.baseURL="http://localhost:8000/api/v1";var s=function(e){o.a.defaults.headers.common.Authorization=e},l=function(){o.a.defaults.headers.common.Authorization=""},f=Object(i.c)("auth/register",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.post("/users",t);case 3:return r=e.sent,c=r.data,s(c.token),e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue("Something went wrong"));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()),p=Object(i.c)("auth/login",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.post("/sessions",t);case 3:return r=e.sent,c=r.data,s(c.token),e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue("Something went wrong"));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()),d=Object(i.c)("auth/logout",function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.post("/sessions");case 3:l(),e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue("Something went wrong"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()),b=Object(i.c)("auth/refresh",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState().auth.token){e.next=3;break}return e.abrupt("return",n.rejectWithValue("Something went wrong"));case 3:return s(r),e.prev=4,e.next=7,o.a.post("/sessions",t);case 7:return c=e.sent,u=c.data,e.abrupt("return",u);case 12:return e.prev=12,e.t0=e.catch(4),l(),e.abrupt("return",n.rejectWithValue("Something went wrong"));case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n){return e.apply(this,arguments)}}())},14:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return h})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return d}));var r=n(3),a=n.n(r),c=n(9),u=n(2),o=n(8),i=n.n(o);i.a.defaults.baseURL="http://localhost:8000/api/v1";var s=function(e){return i.a.get(e)},l="/movies",f=Object(u.c)("movies/getMovies",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s("".concat(l,"?sort=title&order=ASC&limit=10&offset=0"));case 3:return r=e.sent,c=r.data,e.abrupt("return",c);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue("Something went wrong..."));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()),p=Object(u.c)("movies/getMovie",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s("".concat(l,"/").concat(t));case 3:return r=e.sent,c=r.data,e.abrupt("return",c);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue("Something went wrong..."));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()),d=Object(u.c)("movies/getCurrentMovie",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s("".concat(l,"/").concat(t));case 3:return r=e.sent,c=r.data,e.abrupt("return",c);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue("Something went wrong..."));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()),b=Object(u.c)("movies/addMovie",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a=l,u=t,i.a.post(a,u);case 3:return r=e.sent,c=r.data,console.log("addMovie data",c),e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue("Something went wrong..."));case 12:case"end":return e.stop()}var a,u}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()),h=Object(u.c)("movies/deleteMovies",function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r=l,a=t,i.a.delete("".concat(r,"/").concat(a));case 3:return e.abrupt("return",t);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue("Something went wrong..."));case 9:case"end":return e.stop()}var r,a}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}())},68:function(e,t,n){},69:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),u=n(19),o=n.n(u),i=n(16),s=n(2),l=n(34),f=n(15),p=n(12),d=Object(s.e)({name:"auth",initialState:{user:{email:null},token:null,isLoggedIn:!1},extraReducers:(r={},Object(f.a)(r,p.d.fulfilled,(function(e,t){e.user=t.meta.arg.email,e.token=t.payload.token,e.isLoggedIn=!0})),Object(f.a)(r,p.b.fulfilled,(function(e,t){e.user=t.meta.arg.email,e.token=t.payload.token,e.isLoggedIn=!0})),Object(f.a)(r,p.c.fulfilled,(function(e,t){e.user={email:null},e.token=null,e.isLoggedIn=!1})),Object(f.a)(r,p.a.fulfilled,(function(e,t){e.isLoggedIn=!0})),r)}).reducer,b=n(11),h=n(23),v=n.n(h),j=n(5),g=Object(s.b)("movies/filter_change"),m=n(14),O=Object(s.d)([],(function(e){e.addCase(m.c.fulfilled,(function(e,t){return t.payload})).addCase(m.e.fulfilled,(function(e,t){return t.payload.data})).addCase(m.b.fulfilled,(function(e,t){return e.filter((function(e){return e.id!==t.payload}))}))})),w=Object(s.d)("",(function(e){e.addCase(g,(function(e,t){return t.payload}))})),x=Object(s.d)("",(function(e){e.addCase(m.a.fulfilled,(function(e,t){return t.payload}))})),k=Object(s.d)("",(function(e){e.addCase(m.d.fulfilled,(function(e,t){return t.payload}))})),y=Object(j.b)({items:O,libraryItems:x,currentItem:k,filter:w}),S=Object(l.createLogger)({collapsed:function(e,t,n){return!n.error},timestamp:!1}),V={key:"auth",storage:v.a,whitelist:["token"]},W={key:"items",storage:v.a,whitelist:["items"],blacklist:["filter"]},C=Object(s.a)({reducer:{auth:Object(b.g)(V,d),movies:Object(b.g)(W,y)},middleware:function(e){return e({serializableCheck:{ignoredActions:[b.a,b.f,b.b,b.c,b.d,b.e]}}).concat(S)},devTools:!1}),I=Object(b.h)(C),L=(n(68),n(69),n(10)),M=Object(a.lazy)((function(){return n.e(8).then(n.bind(null,85))}));var A=function(){var e=Object(i.b)();return Object(a.useEffect)((function(){e(Object(p.a)())}),[e]),Object(L.jsx)("div",{className:"App",children:Object(L.jsx)(a.Suspense,{fallback:"...loading",children:Object(L.jsx)(M,{})})})},z=n(24),R=n(35);o.a.render(Object(L.jsx)(c.a.StrictMode,{children:Object(L.jsx)(z.a,{children:Object(L.jsx)(i.a,{store:C,children:Object(L.jsx)(R.a,{loading:null,persistor:I,children:Object(L.jsx)(A,{})})})})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.ceb4f21c.chunk.js.map