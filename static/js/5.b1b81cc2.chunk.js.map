{"version":3,"sources":["components/MovieList/MoviesList.module.css","components/MovieList/MovieList.jsx"],"names":["module","exports","MovieList","useState","q","setQ","movies","useSelector","state","items","data","dispatch","useDispatch","currentMovie","currentItem","useEffect","fetchMovies","length","title","year","format","actors","addMovie","handleClick","e","target","textContent","type","getCurrentMovie","currentTarget","id","getMovie","handleChange","value","toLowerCase","className","s","MoviesListForm","onChange","MoviesList","map","MoviesListItem","onClick","to","MoviesListLink","MovieId"],"mappings":"4GACAA,EAAOC,QAAU,CAAC,WAAa,+BAA+B,eAAiB,mCAAmC,eAAiB,mCAAmC,eAAiB,mCAAmC,QAAU,8B,2GCiGrNC,UAvFG,WAChB,MAAkBC,mBAAS,IAA3B,mBAAOC,EAAP,KAAUC,EAAV,KACMC,EAASC,aAAY,SAACC,GAAD,OAAWA,EAAMF,OAAOG,MAAMC,QACnDC,EAAWC,cACXC,EAAeN,aAAY,SAACC,GAAD,OAAWA,EAAMF,OAAOQ,eAEzDC,qBAAU,WACRJ,EAASK,iBACR,CAACL,IAEJI,qBAAU,WACR,GAAIF,EAAaI,OAAS,EAAG,CAC3B,MAAwCJ,EAAaH,KAA7CQ,EAAR,EAAQA,MAAOC,EAAf,EAAeA,KAAMC,EAArB,EAAqBA,OAAQC,EAA7B,EAA6BA,OAC7BV,EAASW,YAAS,CAAEJ,QAAOC,OAAMC,SAAQC,eAE1C,CAACR,EAAcF,IAElB,IAAMY,EAAc,SAACC,GAKnB,GAJ6B,QAAzBA,EAAEC,OAAOC,aAA2C,WAAlBF,EAAEC,OAAOE,MAC7ChB,EAASiB,YAAgBJ,EAAEK,cAAcC,KAIzCN,EAAEC,SAAWD,EAAEK,eACU,QAAzBL,EAAEC,OAAOC,aACS,WAAlBF,EAAEC,OAAOE,KAET,OAAO,EACThB,EAASoB,YAASP,EAAEK,cAAcC,MAG9BE,EAAe,SAACR,GACpBnB,EAAKmB,EAAEC,OAAOQ,MAAMC,gBAGtB,OACE,sBAAKC,UAAU,YAAf,UACE,uBAAMA,UAAWC,IAAEC,eAAnB,UACE,sDAEE,uBACA,uBACEF,UAAU,cACVR,KAAK,OACLM,MAAO7B,EACPkC,SAAUN,OAId,qDAEE,uBACA,uBACEG,UAAU,cACVR,KAAK,OACLM,MAAO7B,EACPkC,SAAUN,UAIhB,oBAAIG,UAAWC,IAAEG,WAAjB,SACGjC,GACCA,EAAOkC,KAAI,gBAAGtB,EAAH,EAAGA,MAAOY,EAAV,EAAUA,GAAV,OACT,qBAEEA,GAAIA,EACJK,UAAWC,IAAEK,eACbC,QAASnB,EAJX,UAME,4BACE,eAAC,IAAD,CAAMoB,GAAE,UAAKb,GAAMK,UAAWC,IAAEQ,eAAhC,UACE,+BAAO1B,IACP,uBACA,uBAAMiB,UAAWC,IAAES,QAAnB,iBAAiCf,UAIrC,wBAAQH,KAAK,SAASQ,UAAU,MAAhC,mBAbKL","file":"static/js/5.b1b81cc2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"MoviesList\":\"MoviesList_MoviesList__1rdom\",\"MoviesListForm\":\"MoviesList_MoviesListForm__3HVkK\",\"MoviesListItem\":\"MoviesList_MoviesListItem__2EtzV\",\"MoviesListLink\":\"MoviesList_MoviesListLink__ESF6g\",\"MovieId\":\"MoviesList_MovieId__JRGj8\"};","import s from \"./MoviesList.module.css\";\nimport { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  fetchMovies,\n  getMovie,\n  addMovie,\n  getCurrentMovie,\n} from \"../../redux/movies/moviesOperations\";\nimport { Link } from \"react-router-dom\";\n\nconst MovieList = () => {\n  const [q, setQ] = useState(\"\");\n  const movies = useSelector((state) => state.movies.items.data);\n  const dispatch = useDispatch();\n  const currentMovie = useSelector((state) => state.movies.currentItem);\n\n  useEffect(() => {\n    dispatch(fetchMovies());\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (currentMovie.length > 0) {\n      const { title, year, format, actors } = currentMovie.data;\n      dispatch(addMovie({ title, year, format, actors }));\n    }\n  }, [currentMovie, dispatch]);\n\n  const handleClick = (e) => {\n    if (e.target.textContent === \"Add\" || e.target.type === \"button\") {\n      dispatch(getCurrentMovie(e.currentTarget.id));\n    }\n\n    if (\n      e.target === e.currentTarget ||\n      e.target.textContent === \"Add\" ||\n      e.target.type === \"button\"\n    )\n      return false;\n    dispatch(getMovie(e.currentTarget.id));\n  };\n\n  const handleChange = (e) => {\n    setQ(e.target.value.toLowerCase());\n  };\n\n  return (\n    <div className=\"container\">\n      <form className={s.MoviesListForm}>\n        <label>\n          Enter movie title\n          <br />\n          <input\n            className=\"MoviesInput\"\n            type=\"text\"\n            value={q}\n            onChange={handleChange}\n          />\n        </label>\n\n        <label>\n          Enter actor name\n          <br />\n          <input\n            className=\"MoviesInput\"\n            type=\"text\"\n            value={q}\n            onChange={handleChange}\n          />\n        </label>\n      </form>\n      <ul className={s.MoviesList}>\n        {movies &&\n          movies.map(({ title, id }) => (\n            <li\n              key={id}\n              id={id}\n              className={s.MoviesListItem}\n              onClick={handleClick}\n            >\n              <p>\n                <Link to={`${id}`} className={s.MoviesListLink}>\n                  <span>{title}</span>\n                  <br />\n                  <span className={s.MovieId}>ID: {id}</span>\n                </Link>\n              </p>\n\n              <button type=\"button\" className=\"btn\">\n                Add\n              </button>\n            </li>\n          ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default MovieList;\n"],"sourceRoot":""}